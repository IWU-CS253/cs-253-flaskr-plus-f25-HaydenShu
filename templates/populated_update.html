{% extends "layout.html" %}
{% block body %}
  <form action="/submit_update" method="post">
    <input type="hidden" name="id" value="{{ entry.id }}">
    <dl>
      <dt>Title:
      <dd><input type="text" size="30" name="title" value="{{ entry.title }}">
      <dt>Text:
      <dd><textarea name="text" rows="5" cols="40">{{ entry.text }}</textarea>
      <dt> Category:
      <dd><input type="text" size="30" name="category" value = "{{ entry.category }}">
      <dd><input type="submit" value="Update">
    </dl>
  </form>
  <form method="get" action="{{ url_for('show_entries') }}" >
    {% for category in all_categories %}
        <label>
        <input type="radio" name = "sort_selected" value="{{ category }}" {%  if selected_category == category %}checked{% endif %}>
        {{ category }}
        </label>
    {% endfor %}
    <button type="submit">Filter</button>
    <a href="{{ url_for('show_entries') }}"><button type="button">Reset</button></a>
  </form>
  <ul class="entries">
  {% for entry in entries %}
      <li><h2>{{ entry.title }}</h2>{{ entry.text|safe }}</li>
    <form action = "/delete" method="post">
    <input name="id" type="hidden" value="{{ entry.id }}">
    <button type="submit">Delete</button>
    </form>
    <form action = "/update" method="post">
    <input name="id" type="hidden" value="{{ entry.id }}">
    <button type="submit">Update</button>
    </form>
  {% else %}
    <li><em>Unbelievable.  No entries here so far</em></li>
  {% endfor %}
  </ul>
{% endblock %}
